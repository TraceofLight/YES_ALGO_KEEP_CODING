## 1497 기타콘서트

---

조합과 비트연산자의 응용 문제

우선 'YYYNN' 과 같은 문자열을 계산하기 쉬운 이진법으로 바꾸어 저장해준다.

itertools combinations를 이용해서 조합을 만들어 준 뒤 비트 합을 구해서 1의 갯수가 몇개인지

세어준다



ex) combs = (28, 25)

28 = 11100

25 = 11001

=>    11101(29) => 1의 갯수 4개

```python
import sys
sys.stdin = open('1497_input.txt')
from itertools import combinations
##기타의 갯수n과 곡의 개수m
n, m = map(int, input().split())

## y, n을 이진수로 바꾸기
songs = set()
for _ in range(n):
    name, infos = input().split()
    bin_change = ''
    for chr in infos:
        if chr == 'Y':
            bin_change += '1'
        else:
            bin_change += '0'
    songs.add(int(bin_change, 2))


## 리스트로 만들수 있는 조합중에 y의 갯수가 5개인 것을 카운트한다.
max_cnt = 0
for i in range(1, n + 1):
    for combs in combinations(songs, i):
        ## 비트 연산자를 활용한 계산을 해야 y의 갯수 확인이 가능하다
        total = 0
        for num in combs:
            total |= num
        cnt = 0
        for j in range(m):
            if total & (1<<j): 11101 & 1 , 11101 & 10
                cnt += 1
        if max_cnt < cnt:
            max_cnt = cnt

if max_cnt == 0:
    print(-1)
else:
    print(max_cnt)
```



---

# 참고

리스트에 중복되는 값을 제거하기 위해서 set으로 설정하고 append 대신 add를 사용함

비트 연산자

![image-20220924095041735](C:\Users\82104\AppData\Roaming\Typora\typora-user-images\image-20220924095041735.png)



